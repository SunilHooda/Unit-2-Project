<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SignUp For Food Lover</title>
    <link rel="stylesheet" href="foodLoverSignUpPage.css" />
  </head>
  <body>
    <div id="main">
      <div>
        <div class="divPad">
          <img
            src="https://www.kindmeal.my/images/join_normal.png"
            alt="Error"
          />
          <p>Food Lover Sign Up</p>
        </div>
        <div class="divPad">
          <img src="https://www.kindmeal.my/images/join_shop.png" alt="Error" />
          <p>Restaurant Sign Up</p>
        </div>
        <div class="divSpace">
          <h2>Why KindMeal?</h2>
          <ul>
            <li>Exclusive meat-free deals</li>
            <li>Share yummy food moments</li>
            <li>Meet friendly food lovers</li>
            <li>Discover cul restaurants</li>
            <li>Email updates on tasty deals</li>
            <li>Instant coupons & dining</li>
            <li>No upfront payment, booking or printing</li>
          </ul>
          <p>More about KindMeal »</p>
        </div>
      </div>
      <div>
        <div class="header">
          <h2>
            Food Lover? Sign Up Now or
            <span class="blue">Login With Facebook</span>
          </h2>
          <p>
            Discover tasty meat-free meals and dine instantly — no coupon
            payment, booking or printing is required.
          </p>
          <p>
            KindMeal is a fun, exciting and cool new way for you to show your
            compassion towards animals. We collaborate with kind restaurants and
            cafes across the nation to bring you delicious meat-free foods that
            will not only help save precious animal lives, but improve your
            health and save your money at the same time!
          </p>
        </div>
        <div id="signupForm">
          <form>
            <table>
              <tbody>
                <tr>
                  <td><label for="" class="yrname">Your Name</label></td>
                  <td>
                    <div class="inputTop">
                      <div>
                        <p>First name</p>
                        <input
                          type="text"
                          id="firstName"
                          class="uname borderless"
                        />
                      </div>
                      <div>
                        <p class="lname">Last name</p>
                        <input
                          type="text"
                          id="lastName"
                          class="uname borderless lname"
                        />
                      </div>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td><label for="" class="yrname">Email</label></td>
                  <td>
                    <div class="inputTop">
                      <div>
                        <p>
                          Your email must be correct to receive activation email
                        </p>
                        <input
                          type="email"
                          id="cEmail"
                          class="inputWidth borderless"
                        />
                      </div>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td><label for="">Re-Enter Email</label></td>
                  <td>
                    <input
                      type="email"
                      id="reEmail"
                      class="inputWidth borderless"
                    />
                  </td>
                </tr>
                <tr>
                  <td><label for="">Password</label></td>
                  <td>
                    <div class="inputTop">
                      <div class="inputTop1">
                        <input
                          type="password"
                          id="pass"
                          class="inputWidth borderless"
                        />
                        <p>
                          Choose a cool username for your Personal Profile page,
                          comments & reviews
                        </p>
                      </div>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td><label for="">Username</label></td>
                  <td>
                    <div class="inputTop">
                      <div>
                        <p class="blueUrl">http://KindMeal.my/Username</p>
                        <input
                          type="text"
                          id="uname"
                          class="inputWidth borderless"
                        />
                      </div>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td><label for="">Birth Date</label></td>
                  <td>
                    <div class="inputAgeTop">
                      <div>
                        <p>Only your age will be publicly visible</p>

                        <select id="month" class="birthDate borderless">
                          <option value="Month">Month</option>
                          <option value="Jan">Jan</option>
                          <option value="Feb">Feb</option>
                          <option value="Mar">Mar</option>
                          <option value="Apr">Apr</option>
                          <option value="May">May</option>
                          <option value="Jun">Jun</option>
                          <option value="Jul">Jul</option>
                          <option value="Aug">Aug</option>
                          <option value="Sep">Sep</option>
                          <option value="Oct">Oct</option>
                          <option value="Nov">Nov</option>
                          <option value="Dec">Dec</option>
                        </select>
                        <select id="day" class="birthDate borderless">
                          <option value="Day">Day</option>
                          <option value="1">1</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5</option>
                          <option value="6">6</option>
                          <option value="7">7</option>
                          <option value="8">8</option>
                          <option value="9">9</option>
                          <option value="10">10</option>
                          <option value="11">11</option>
                          <option value="12">12</option>
                          <option value="13">13</option>
                          <option value="14">14</option>
                          <option value="15">15</option>
                          <option value="16">16</option>
                          <option value="17">17</option>
                          <option value="18">18</option>
                          <option value="19">19</option>
                          <option value="20">20</option>
                          <option value="21">21</option>
                          <option value="22">22</option>
                          <option value="23">23</option>
                          <option value="24">24</option>
                          <option value="25">25</option>
                          <option value="26">26</option>
                          <option value="27">27</option>
                          <option value="28">28</option>
                          <option value="29">29</option>
                          <option value="30">30</option>
                          <option value="31">31</option>
                        </select>
                        <select id="year" class="birthDate borderless">
                          <option value="Year">Year</option>
                          <option value="2017">2017</option>
                          <option value="2016">2016</option>
                          <option value="2015">2015</option>
                          <option value="2014">2014</option>
                          <option value="2013">2013</option>
                          <option value="2012">2012</option>
                          <option value="2011">2011</option>
                          <option value="2010">2010</option>
                          <option value="2009">2009</option>
                          <option value="2008">2008</option>
                          <option value="2007">2007</option>
                          <option value="2006">2006</option>
                          <option value="2005">2005</option>
                          <option value="2004">2004</option>
                          <option value="2003">2003</option>
                          <option value="2002">2002</option>
                          <option value="2001">2001</option>
                          <option value="2000">2000</option>
                          <option value="1999">1999</option>
                          <option value="1998">1998</option>
                        </select>
                      </div>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td><label for="">Country</label></td>
                  <td>
                    <select
                      id="country"
                      class="consta borderless"
                      onchange="populate(id,'state')">
                      <option value="Your Country">Your Country</option>
                      <option value="india">India</option>
                      <option value="dominica">Dominica</option>
                      <option value="guam">Guam</option>
                      <option value="iran">Iran</option>
                      <option value="japan">Japan</option>
                      <option value="nepal">Nepal</option>
                      <option value="qatar">Qatar</option>
                      <option value="sweden">Sweden</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td><label for="">State</label></td>
                  <td>
                    <select id="state" class="consta borderless" >
                      <option value="Select State">Select State</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td><label for="">Gender</label></td>
                  <td>
                    <input type="radio" name="gender" value="Male" id="male" />
                    <label for=""> Male</label> &nbsp;&nbsp;
                    <input
                      type="radio"
                      name="gender"
                      id="female"
                      value="Female"/>
                    <label for="">Female</label>
                  </td>
                </tr>
                <tr>
                  <td><label for="">Profile Photo</label></td>
                  <td><input type="file" id="image" /></td>
                </tr>
              </tbody>
            </table>
            <input type="checkbox" id="term&cond" class="check" required/>
            <label for="" class="check">
                I agree to KindMeal.my's Terms & Conditions
            </label>
            <br />
            <input type="submit" value="Join Now" class="btn" />
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
<script>
  document.querySelector("form").addEventListener("submit", getFoodLoverData);

  let customerArray = JSON.parse(localStorage.getItem("customerData")) || [];

  
  let formTag = document.querySelector("form");


  function getFoodLoverData(event) {
    event.preventDefault();

    let customerObject = {
      fname: formTag.firstName.value,
      lname: formTag.lastName.value,
      emailId: formTag.cEmail.value,
      reEmail: formTag.reEmail.value,
      password: formTag.pass.value,
      uname: formTag.uname.value,
      month: formTag.month.value,
      day: formTag.day.value,
      year: formTag.year.value,
      country: formTag.country.value,
      state: formTag.state.value,
      gender: formTag.gender.value,
      picture: formTag.image.value,
    };

    //console.log(customerObject);

    if (customerObject.fname === "") {
      alert("Enter First Name");
      return false;
    }

    if (customerObject.lname === "") {
      alert("Enter Last Name");
      return false;
    }

    if (customerObject.emailId === "") {
      alert("Enter Email - Id");
      return false;
    }
    if (checkEmail(customerObject.emailId) === true) {
      if (customerObject.emailId === customerObject.reEmail) {
        customerArray.push(customerObject);
        console.log("Both Email Id are same");
      } else {
        alert("Email-Id is incorrect");
      }

      //console.log("Okay valid E-mail iD");
    } else {
      alert("Enter valid Email-id");
      return false;
    }

    if(customerObject.uname === ""){
        alert("Enter username");
        return false;
    }
    
    if(customerObject.month === "Month"){
        alert("Select month");
        return false;
    }
    
    if(customerObject.day === "Day"){
        alert("Select Day");
        return false;
    }
    if(customerObject.year === "Year"){
        alert("Select Year");
        return false;
    }

    if(customerObject.password.length < 5){
        alert("Your Password shuld be more than 5 letters");
       return false;
    }
    


    if(customerObject.country === "Your Country"){
        alert("Select Country");
        return false;
    }

    console.log(customerArray);
    localStorage.setItem("customerData", JSON.stringify(customerArray));
    window.location.href="signupSuccessfulPage.html";
    formTag.reset();
  }

    
  function checkEmail(emailId) {
    let filtered = customerArray.filter(function (element) {
      return emailId === element.emailId;
    });
    if (filtered.length > 0) {
      return false;
    } else {
      return true;
    }
  }

  function populate(s1, s2) {
    s1 = document.getElementById(s1);
    s2 = document.getElementById(s2);
    s2.innerHTML = "";
    let optionArr = [];
    if (s1.value == "india") {
      optionArr = ["delhi|Delhi", "haryana|Haryana", "maharastra|Maharastra","aasam|Aasam","kerala|Kerala"];
    } else if (s1.value == "dominica") {
      optionArr = ["saintandrew|Saint Andrew", "saintpaul|SaintPaul","saintluke|Saint Luke","saintmark|Saint Mark","saintjohn|Saint John"];
    }else if (s1.value == "guam") {
      optionArr = ["agat|Agat", "barrigada|Barrigada","dededo|Dededo","hagatna|Hagatna","yona|Yona"];
    }else if (s1.value == "iran") {
      optionArr = ["esfahan|Esfahan", "fars|Fars","gilan|Gilan","illam|Illam","kerman|Kerman"];
    }else if (s1.value == "japan") {
      optionArr = ["aichi|Aichi","akita|Akita","chiba|Chiba","hyogo|Hyogo","iwate|Iwate"];
    }else if (s1.value == "nepal") {
      optionArr = ["banke|Banke", "bara|Bara","dailekh|Dailekh","doti|Doti","parsa|Parsa"];
    }else if (s1.value == "qatar") {
      optionArr = ["addawhah|ad-Dawhah", "alhawr|al-Hawr","alwakrah|al-Wakrah","ummsalal|Umm Salal","assamal|as-Samal"];
    }else if (s1.value == "sweden") {
      optionArr = ["dalarna|Dalarna", "halland|Halland","kalmar|Kalmar","skane|Skane","varmland|Varmland"];
    }
    for (option in optionArr) {
      let pair = optionArr[option].split("|");
      let newoption = document.createElement("option");
      newoption.value = pair[0];
      newoption.innerHTML = pair[1];
      s2.append(newoption);
    }
  }
</script>
 

